:root{
  --tech-800:#0f2f57; --tech-700:#123b6b; --tech-600:#1552a3; --tech-500:#0a58ca;
  --glass-bg:rgba(255,255,255,.08); --glass-bd:rgba(255,255,255,.18);
}

/* ===== Base ===== */
html,body{
  height:100%; margin:0; overflow-x:hidden; color:#e9eef7;
  background:radial-gradient(1200px 600px at 10% 0%,#10233f 0%,#0a1426 60%,#070b15 100%);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{text-decoration:none}

/* ===== Navbar/Hero ===== */
.bg-tech{background:linear-gradient(90deg,var(--tech-700),var(--tech-500));}
.bg-gradient-tech{background:linear-gradient(180deg,var(--tech-700),var(--tech-800));}
.navbar-brand img{filter:drop-shadow(0 2px 6px rgba(0,0,0,.4))}

/* ===== Glass ===== */
.glass{background:var(--glass-bg)!important; backdrop-filter:blur(10px);
  border:1px solid var(--glass-bd)!important; border-radius:1rem}
.glass-strong .card-body,
.glass-strong h2,
.glass-strong li{color:#f1f6ff!important}
.instr{line-height:1.55}
.instr strong{color:#ffffff}

/* ===== Tarjetas ===== */
.card-hover{transition:transform .25s, box-shadow .25s}
.card-hover:hover{transform:translateY(-2px); box-shadow:0 12px 28px rgba(0,0,0,.35)}
.card-img-top{
  width:100%; height:260px; object-fit:contain;
  background:#0b1424; border-top-left-radius:1rem; border-top-right-radius:1rem
}
@media (min-width:992px){.card-img-top{height:300px}}

/* ===== Skeleton/Lazy ===== */
.skeleton{position:relative; overflow:hidden; border-top-left-radius:1rem; border-top-right-radius:1rem; background:#0f1a2a}
.skeleton::after{content:""; position:absolute; inset:0; background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent); transform:translateX(-100%); animation:shimmer 1.2s infinite}
@keyframes shimmer{100%{transform:translateX(100%)}}
.lazy{filter:blur(8px); transition:filter .3s}.lazy[src]{filter:blur(0)}

/* ===== Stage (visualizador de imagen) ===== */
.stage{
  width:100%; display:grid; place-items:center; border-radius:.75rem; background:#000;
  overflow:visible; /* <- no recortar */
}
.stage img{
  width:auto!important; height:auto!important; max-width:100%; max-height:var(--stageMax, 70vh); object-fit:contain;
}

/* ===== SBS ===== */
.sbs-grid{display:grid; grid-template-columns:1fr; gap:var(--gap,16px); align-items:center}
.sbs-grid img{width:100%; height:auto}
@media (min-width:768px){.sbs-grid{grid-template-columns:1fr 1fr}}

/* ===== Carrusel ===== */
#carouselMain{max-width:90vw; margin:0 auto}
#carouselMain .carousel-item{
  display:flex; align-items:center; justify-content:center; width:100%; /* ocupar todo el ancho */
}
#carouselMain .stage{height:auto; max-width:95vw; margin:0 auto; padding:0}
#carouselMain .stage img{max-height:70vh; object-fit:contain}
.carousel-control-prev-icon,.carousel-control-next-icon{filter:invert(1)}

/* ===== Zoom overlay ===== */
.zoom-overlay{position:fixed; inset:0; background:rgba(0,0,0,.9); display:grid; place-items:center; z-index:1080; padding:2rem}
.zoom-overlay img{max-width:95vw; max-height:90vh; object-fit:contain; border-radius:1rem; box-shadow:0 20px 60px rgba(0,0,0,.6), 0 0 0 1px rgba(255,255,255,.08) inset}
.zoom-close{position:absolute; top:1rem; right:1rem; border-radius:999px; box-shadow:0 10px 30px rgba(0,0,0,.4)}

/* ===== Modal ===== */
#sceneModal .modal-dialog{max-width:min(1200px,96vw)}
#sceneModal .modal-content{height:92vh; display:flex; flex-direction:column}
#sceneModal .modal-header,#sceneModal .modal-footer{flex:0 0 auto}
#sceneModal .modal-body{flex:1 1 auto; overflow:hidden!important; padding:.75rem 1rem 1rem; display:flex; flex-direction:column}
#sceneModal .stage{width:100%; height:100%}
#sceneModal #viewSBS{--gap:16px; gap:var(--gap)}

/* ===== Demo disparidad ===== */
.demo-canvas{background:#060a12; border:1px solid rgba(255,255,255,.12); border-radius:1rem; padding:1rem}
.demo-anag,.demo-sbs{position:relative; width:100%; height:min(55vh,460px); border-radius:.75rem; overflow:hidden; background:#0b1120}
.demo-label{position:absolute; left:1rem; bottom:1rem; font-size:.85rem; color:#cfe3ff; opacity:.9}
.layer{position:absolute; inset:0; width:60%; height:60%; margin:auto; border-radius:16px;
  background-image:radial-gradient(circle at 25% 30%, rgba(255,255,255,.95), rgba(255,255,255,.6) 35%, transparent 60%),
                   linear-gradient(135deg, rgba(255,255,255,.18), transparent 40%)}
.layer-red{filter:drop-shadow(0 10px 30px rgba(255,0,0,.2)); background-color:rgba(255,0,0,.05); mix-blend-mode:screen}
.layer-cyan{filter:drop-shadow(0 10px 30px rgba(0,255,255,.2)); background-color:rgba(0,255,255,.05); mix-blend-mode:screen}
.demo-sbs{display:grid; grid-template-columns:1fr 1fr; gap:var(--demo-gap,16px)}
.panel{position:relative; border-radius:12px;
  background-image:radial-gradient(circle at 25% 30%, rgba(255,255,255,.95), rgba(255,255,255,.6) 35%, transparent 60%),
                   linear-gradient(135deg, rgba(255,255,255,.18), transparent 40%)}
.panel-left{border:1px solid rgba(255,0,0,.35)} .panel-right{border:1px solid rgba(0,255,255,.35)}
.mark{position:absolute; top:8px; right:8px; font-weight:700; color:#a4bdf6}

/* ===== Footer ===== */
.footer-tech{background:radial-gradient(700px 500px at 90% 0%, rgba(10,88,202,.28), transparent 60%), #0b1220; color:#e9eef7}
.link-light-opacity{color:#cfe3ff}.link-light-opacity:hover{color:#fff; text-decoration:underline}
